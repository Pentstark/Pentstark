<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Production Debug - PentStark</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #0f1117;
            color: #fff;
            padding: 20px;
            line-height: 1.6;
        }
        .debug-section {
            background: rgba(187, 51, 255, 0.1);
            border: 1px solid #bb33ff;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        .status-ok { color: #4ade80; }
        .status-error { color: #ef4444; }
        .status-warning { color: #f59e0b; }
    </style>
</head>
<body>
    <h1>üîç PentStark Production Diagnostics</h1>
    
    <div class="debug-section">
        <h3>Environment Check</h3>
        <div id="env-check">Loading...</div>
    </div>
    
    <div class="debug-section">
        <h3>Network & Assets</h3>
        <div id="network-check">Loading...</div>
    </div>
    
    <div class="debug-section">
        <h3>Console Errors</h3>
        <div id="console-errors">Loading...</div>
    </div>

    <script>
        // Environment Check
        const envCheck = document.getElementById('env-check');
        const isProduction = window.location.hostname !== 'localhost';
        const hasHttps = window.location.protocol === 'https:';
        
        envCheck.innerHTML = `
            <p>Environment: <span class="${isProduction ? 'status-ok' : 'status-warning'}">${isProduction ? 'Production' : 'Development'}</span></p>
            <p>Protocol: <span class="${hasHttps ? 'status-ok' : 'status-warning'}">${window.location.protocol}</span></p>
            <p>Host: <span class="status-ok">${window.location.hostname}</span></p>
        `;

        // Network Check
        const networkCheck = document.getElementById('network-check');
        let networkStatus = '<p>Checking assets...</p>';
        
        // Check if main CSS loads
        const cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = './assets/index-b87222a0.css';
        cssLink.onload = () => {
            networkStatus += '<p>CSS: <span class="status-ok">‚úì Loaded</span></p>';
            updateNetworkStatus();
        };
        cssLink.onerror = () => {
            networkStatus += '<p>CSS: <span class="status-error">‚úó Failed</span></p>';
            updateNetworkStatus();
        };
        document.head.appendChild(cssLink);

        // Check if main JS loads
        const script = document.createElement('script');
        script.src = './assets/index-cb2f962b.js';
        script.onload = () => {
            networkStatus += '<p>JavaScript: <span class="status-ok">‚úì Loaded</span></p>';
            updateNetworkStatus();
        };
        script.onerror = () => {
            networkStatus += '<p>JavaScript: <span class="status-error">‚úó Failed</span></p>';
            updateNetworkStatus();
        };
        document.head.appendChild(script);

        function updateNetworkStatus() {
            networkCheck.innerHTML = networkStatus;
        }

        // Console Error Tracking
        const consoleErrors = document.getElementById('console-errors');
        const errors = [];
        
        const originalError = console.error;
        console.error = function(...args) {
            errors.push(args.join(' '));
            updateErrorDisplay();
            originalError.apply(console, args);
        };

        window.addEventListener('error', (event) => {
            errors.push(`${event.error?.name || 'Error'}: ${event.error?.message || event.message}`);
            updateErrorDisplay();
        });

        function updateErrorDisplay() {
            if (errors.length === 0) {
                consoleErrors.innerHTML = '<p class="status-ok">No errors detected</p>';
            } else {
                consoleErrors.innerHTML = errors.map(error => 
                    `<p class="status-error">‚Ä¢ ${error}</p>`
                ).join('');
            }
        }

        // Initial error display
        updateErrorDisplay();
        
        // Environment variables check (if accessible)
        setTimeout(() => {
            try {
                if (window.React) {
                    envCheck.innerHTML += '<p>React: <span class="status-ok">‚úì Available</span></p>';
                } else {
                    envCheck.innerHTML += '<p>React: <span class="status-warning">‚ö† Not loaded yet</span></p>';
                }
            } catch (e) {
                envCheck.innerHTML += '<p>React: <span class="status-error">‚úó Error</span></p>';
            }
        }, 2000);
    </script>
</body>
</html>
